<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>FindsOffice - Бюро Находок</title>
  <link rel="icon" href="/favicon.png" type="image/x-icon">
  <link rel="stylesheet" href="/css/style.css">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
  <header>
    <h1>FindsOffice</h1>
    <p>Бюро Находок:<br>система учета утерянных вещей</p>
  </header>
  <main>

    <body style="background-color: #2c3e50;">
    <div class="auth-container">
        <h2 style="display: flex; justify-content: center; margin-bottom: 35px;"><%= title %></h2>
        
        <% if (error) { %>
            <div class="alert alert-danger"><%= error %></div>
        <% } %>
        
        <form id="authForm" method="POST" action="<%= showRegisterFields ? '/register' : '/login' %>">
            <div class="form-group">
                <label for="login">Логин:</label>
                <input type="text" style="border: 1px solid black;" id="login" name="login" value="<%= formData && formData.login || '' %>" required>
            </div>
            
            <div class="form-group">
                <label for="password">Пароль:</label>
                <input type="password" id="password" name="password" style="height: 10px; width: 335px;" required>
            </div>
            
            <% if (showRegisterFields) { %>
                <div class="form-group">
                    <label for="first_name">Имя:</label>
                    <input type="text" style="border: 1px solid black;" id="first_name" name="first_name" value="<%= formData && formData.first_name || '' %>" required>
                </div>
                
                <div class="form-group">
                    <label for="last_name">Фамилия:</label>
                    <input type="text" style="border: 1px solid black;" id="last_name" name="last_name" value="<%= formData && formData.last_name || '' %>" required>
                </div>
                
                <div class="form-group">
                    <label for="phone">Телефон:</label>
                    <input type="text" style="border: 1px solid black;" id="phone" name="phone" value="<%= formData && formData.phone || '' %>">
                </div>
                
                <div class="form-group">
                    <label for="password_confirm">Повторите пароль:</label>
                    <input type="password" id="password_confirm" name="password_confirm" style="height: 10px; width: 335px;" required>
                </div>
            <% } %>
            
        <div style="text-align: center;">
            <button type="submit" class="btn">
                <%= showRegisterFields ? 'Зарегистрироваться' : 'Войти' %>
            </button>
        </div>
        </form>
        
        <div class="auth-toggle">
            <% if (!showRegisterFields) { %>
                <a href="#" id="showRegister">Зарегистрироваться</a>
            <% } else { %>
                <a href="/login">Войти</a>
            <% } %>
        </div>
    </div>
</body>

<%- include('partials/footer') %>